{"created": 1760095093.695462, "duration": 1.1042320728302002, "exitcode": 1, "root": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark", "environment": {}, "summary": {"failed": 7, "passed": 4, "total": 11, "collected": 11}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests/test_auth_api.py", "type": "Module"}]}, {"nodeid": "tests/test_auth_api.py", "outcome": "passed", "result": [{"nodeid": "tests/test_auth_api.py::test_happy_path_signup_login_me", "type": "Function", "lineno": 21}, {"nodeid": "tests/test_auth_api.py::test_duplicate_signup_returns_409", "type": "Function", "lineno": 30}, {"nodeid": "tests/test_auth_api.py::test_login_wrong_password_401", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_auth_api.py::test_me_requires_bearer_token", "type": "Function", "lineno": 39}, {"nodeid": "tests/test_auth_api.py::test_token_expiry_short_lifetime", "type": "Function", "lineno": 46}, {"nodeid": "tests/test_auth_api.py::test_property_valid_inputs_pass_signup_then_login", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_auth_api.py::test_password_policy_enforced", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_auth_api.py::test_email_policy_enforced", "type": "Function", "lineno": 72}, {"nodeid": "tests/test_auth_api.py::test_error_messages_do_not_leak", "type": "Function", "lineno": 76}, {"nodeid": "tests/test_auth_api.py::test_sql_injection_defense", "type": "Function", "lineno": 82}, {"nodeid": "tests/test_auth_api.py::test_dependencies_are_minimal_and_no_debug_headers", "type": "Function", "lineno": 88}]}], "tests": [{"nodeid": "tests/test_auth_api.py::test_happy_path_signup_login_me", "lineno": 21, "outcome": "failed", "keywords": ["test_happy_path_signup_login_me", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.03168349999759812, "outcome": "passed"}, "call": {"duration": 0.16672074999951292, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/tests/test_auth_api.py", "lineno": 24, "message": "assert 500 in (201, 409)\n +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code"}, "traceback": [{"path": "tests/test_auth_api.py", "lineno": 24, "message": "AssertionError"}], "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095092.838845, "msecs": 838.0, "relativeCreated": 293.794, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}], "longrepr": "client = <FlaskClient <Flask 'candidate_app'>>\n\n    def test_happy_path_signup_login_me(client):\n        r = signup(client, \"a@example.com\", \"Secure123\")\n>       assert r.status_code in (201, 409)  # allow re-run tolerance\nE       assert 500 in (201, 409)\nE        +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code\n\ntests/test_auth_api.py:24: AssertionError"}, "teardown": {"duration": 0.00014362500223796815, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_duplicate_signup_returns_409", "lineno": 30, "outcome": "failed", "keywords": ["test_duplicate_signup_returns_409", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00012837499525630847, "outcome": "passed"}, "call": {"duration": 0.16910783299681498, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/tests/test_auth_api.py", "lineno": 33, "message": "assert 500 == 201\n +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code"}, "traceback": [{"path": "tests/test_auth_api.py", "lineno": 33, "message": "AssertionError"}], "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.0179641, "msecs": 17.0, "relativeCreated": 472.913, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}], "longrepr": "client = <FlaskClient <Flask 'candidate_app'>>\n\n    def test_duplicate_signup_returns_409(client):\n        r1 = signup(client, \"dupe@example.com\", \"Strong123\")\n>       assert r1.status_code == 201\nE       assert 500 == 201\nE        +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code\n\ntests/test_auth_api.py:33: AssertionError"}, "teardown": {"duration": 0.0001548750005895272, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_login_wrong_password_401", "lineno": 35, "outcome": "failed", "keywords": ["test_login_wrong_password_401", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00013125000259606168, "outcome": "passed"}, "call": {"duration": 0.1697450840001693, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/tests/test_auth_api.py", "lineno": 39, "message": "assert 500 == 401\n +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code"}, "traceback": [{"path": "tests/test_auth_api.py", "lineno": 39, "message": "AssertionError"}], "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.188949, "msecs": 188.0, "relativeCreated": 643.898, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}, {"name": "candidate_app", "msg": "Exception on /login [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 102, in login\n    row = db.execute(\"SELECT password_hash FROM users WHERE email = ?\", (email,)).fetchone()\n          ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.189655, "msecs": 189.0, "relativeCreated": 644.604, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}], "longrepr": "client = <FlaskClient <Flask 'candidate_app'>>\n\n    def test_login_wrong_password_401(client):\n        signup(client, \"b@example.com\", \"Strong123\")\n        r = login(client, \"b@example.com\", \"Wrong999\")\n>       assert r.status_code == 401\nE       assert 500 == 401\nE        +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code\n\ntests/test_auth_api.py:39: AssertionError"}, "teardown": {"duration": 0.00012116599828004837, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_me_requires_bearer_token", "lineno": 39, "outcome": "passed", "keywords": ["test_me_requires_bearer_token", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00014037499931873754, "outcome": "passed"}, "call": {"duration": 0.00038904199755052105, "outcome": "passed"}, "teardown": {"duration": 7.01669996487908e-05, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_token_expiry_short_lifetime", "lineno": 46, "outcome": "passed", "keywords": ["test_token_expiry_short_lifetime", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 9.779199899639934e-05, "outcome": "passed"}, "call": {"duration": 0.0004543329996522516, "outcome": "passed"}, "teardown": {"duration": 9.387499449076131e-05, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_property_valid_inputs_pass_signup_then_login", "lineno": 56, "outcome": "failed", "keywords": ["test_property_valid_inputs_pass_signup_then_login", "is_hypothesis_test", "_hypothesis_internal_use_seed", "_hypothesis_internal_use_settings", "_hypothesis_internal_use_reproduce_failure", "hypothesis", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00010316599946236238, "outcome": "passed"}, "call": {"duration": 0.00011329200060572475, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/pluggy/_callers.py", "lineno": 34, "message": "hypothesis.errors.FailedHealthCheck: Function-scoped fixture 'client' used by 'tests/test_auth_api.py::test_property_valid_inputs_pass_signup_then_login'\n\nFunction-scoped fixtures are not reset between examples generated by\n`@given(...)`, which is often surprising and can cause subtle test bugs.\n\nIf you were expecting the fixture to run separately for each generated example,\nthen unfortunately you will need to find a different way to achieve your goal\n(e.g. using a similar context manager instead of a fixture).\n\nIf you are confident that your test will work correctly even though the\nfixture is not reset between generated examples, you can suppress this health\ncheck to assure Hypothesis that you understand what you are doing.\n\nSee https://hypothesis.readthedocs.io/en/latest/healthchecks.html for more information about this. If you want to disable just this health check, add HealthCheck.function_scoped_fixture to the suppress_health_check settings for this test."}, "longrepr": "E   hypothesis.errors.FailedHealthCheck: Function-scoped fixture 'client' used by 'tests/test_auth_api.py::test_property_valid_inputs_pass_signup_then_login'\n    \n    Function-scoped fixtures are not reset between examples generated by\n    `@given(...)`, which is often surprising and can cause subtle test bugs.\n    \n    If you were expecting the fixture to run separately for each generated example,\n    then unfortunately you will need to find a different way to achieve your goal\n    (e.g. using a similar context manager instead of a fixture).\n    \n    If you are confident that your test will work correctly even though the\n    fixture is not reset between generated examples, you can suppress this health\n    check to assure Hypothesis that you understand what you are doing.\n    \n    See https://hypothesis.readthedocs.io/en/latest/healthchecks.html for more information about this. If you want to disable just this health check, add HealthCheck.function_scoped_fixture to the suppress_health_check settings for this test.\nAll traceback entries are hidden. Pass `--full-trace` to see hidden and internal frames."}, "teardown": {"duration": 6.454100366681814e-05, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_password_policy_enforced", "lineno": 68, "outcome": "failed", "keywords": ["test_password_policy_enforced", "is_hypothesis_test", "_hypothesis_internal_use_seed", "_hypothesis_internal_use_settings", "_hypothesis_internal_use_reproduce_failure", "hypothesis", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 8.58329949551262e-05, "outcome": "passed"}, "call": {"duration": 7.854200521251187e-05, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/pluggy/_callers.py", "lineno": 34, "message": "hypothesis.errors.FailedHealthCheck: Function-scoped fixture 'client' used by 'tests/test_auth_api.py::test_password_policy_enforced'\n\nFunction-scoped fixtures are not reset between examples generated by\n`@given(...)`, which is often surprising and can cause subtle test bugs.\n\nIf you were expecting the fixture to run separately for each generated example,\nthen unfortunately you will need to find a different way to achieve your goal\n(e.g. using a similar context manager instead of a fixture).\n\nIf you are confident that your test will work correctly even though the\nfixture is not reset between generated examples, you can suppress this health\ncheck to assure Hypothesis that you understand what you are doing.\n\nSee https://hypothesis.readthedocs.io/en/latest/healthchecks.html for more information about this. If you want to disable just this health check, add HealthCheck.function_scoped_fixture to the suppress_health_check settings for this test."}, "longrepr": "E   hypothesis.errors.FailedHealthCheck: Function-scoped fixture 'client' used by 'tests/test_auth_api.py::test_password_policy_enforced'\n    \n    Function-scoped fixtures are not reset between examples generated by\n    `@given(...)`, which is often surprising and can cause subtle test bugs.\n    \n    If you were expecting the fixture to run separately for each generated example,\n    then unfortunately you will need to find a different way to achieve your goal\n    (e.g. using a similar context manager instead of a fixture).\n    \n    If you are confident that your test will work correctly even though the\n    fixture is not reset between generated examples, you can suppress this health\n    check to assure Hypothesis that you understand what you are doing.\n    \n    See https://hypothesis.readthedocs.io/en/latest/healthchecks.html for more information about this. If you want to disable just this health check, add HealthCheck.function_scoped_fixture to the suppress_health_check settings for this test.\nAll traceback entries are hidden. Pass `--full-trace` to see hidden and internal frames."}, "teardown": {"duration": 5.0125003326684237e-05, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_email_policy_enforced", "lineno": 72, "outcome": "failed", "keywords": ["test_email_policy_enforced", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 7.704099698457867e-05, "outcome": "passed"}, "call": {"duration": 0.16565766699932283, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/tests/test_auth_api.py", "lineno": 76, "message": "assert 500 == 400\n +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code"}, "traceback": [{"path": "tests/test_auth_api.py", "lineno": 76, "message": "AssertionError"}], "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.3603358, "msecs": 360.0, "relativeCreated": 815.285, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}], "longrepr": "client = <FlaskClient <Flask 'candidate_app'>>\n\n    def test_email_policy_enforced(client):\n        for bad in [\"x\", \"user@\", \"@domain.com\", \"a@b\", \"a@b.\", \"a@b.c\", \"a@b..com\", \"a b@c.com\"]:\n            r = signup(client, bad, \"Strong123\")\n>           assert r.status_code == 400\nE           assert 500 == 400\nE            +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code\n\ntests/test_auth_api.py:76: AssertionError"}, "teardown": {"duration": 0.00012649999553104863, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_error_messages_do_not_leak", "lineno": 76, "outcome": "failed", "keywords": ["test_error_messages_do_not_leak", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00012358400272205472, "outcome": "passed"}, "call": {"duration": 0.0006214580062078312, "outcome": "failed", "crash": {"path": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/tests/test_auth_api.py", "lineno": 79, "message": "assert 500 == 401\n +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code"}, "traceback": [{"path": "tests/test_auth_api.py", "lineno": 79, "message": "AssertionError"}], "log": [{"name": "candidate_app", "msg": "Exception on /login [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 102, in login\n    row = db.execute(\"SELECT password_hash FROM users WHERE email = ?\", (email,)).fetchone()\n          ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.3629818, "msecs": 362.0, "relativeCreated": 817.931, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}], "longrepr": "client = <FlaskClient <Flask 'candidate_app'>>\n\n    def test_error_messages_do_not_leak(client):\n        r = login(client, \"nosuch@example.com\", \"Nope1234\")\n>       assert r.status_code == 401\nE       assert 500 == 401\nE        +  where 500 = <WrapperTestResponse streamed [500 INTERNAL SERVER ERROR]>.status_code\n\ntests/test_auth_api.py:79: AssertionError"}, "teardown": {"duration": 9.387500176671892e-05, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_sql_injection_defense", "lineno": 82, "outcome": "passed", "keywords": ["test_sql_injection_defense", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 9.62919948506169e-05, "outcome": "passed"}, "call": {"duration": 0.16523804199823644, "outcome": "passed", "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.529155, "msecs": 529.0, "relativeCreated": 984.104, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}]}, "teardown": {"duration": 0.00012495800183387473, "outcome": "passed"}}, {"nodeid": "tests/test_auth_api.py::test_dependencies_are_minimal_and_no_debug_headers", "lineno": 88, "outcome": "passed", "keywords": ["test_dependencies_are_minimal_and_no_debug_headers", "test_auth_api.py", "tests", "quote-builder-llm-benchmark", ""], "setup": {"duration": 0.00011454099876573309, "outcome": "passed"}, "call": {"duration": 0.1648176250018878, "outcome": "passed", "log": [{"name": "candidate_app", "msg": "Exception on /signup [POST]", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py", "filename": "app.py", "module": "app", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 1511, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 919, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/venv/lib/python3.13/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^\n  File \"/Users/finnvonheesen/Desktop/quote-builder-llm-benchmark/candidates/app_openai.py\", line 81, in signup\n    db.execute(\"INSERT INTO users (email, password_hash) VALUES (?, ?)\", (email, pw_hash))\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsqlite3.OperationalError: no such table: users", "stack_info": null, "lineno": 875, "funcName": "log_exception", "created": 1760095093.694605, "msecs": 694.0, "relativeCreated": 1149.554, "thread": 8566562560, "threadName": "MainThread", "processName": "MainProcess", "process": 48985, "taskName": null}]}, "teardown": {"duration": 0.0002157079943572171, "outcome": "passed"}}]}